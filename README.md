# automation-testing-playwright
End-to-end UI tests with Playwright Test (TypeScript), Allure &amp; HTML reports, GitHub Actions CI.
# Automation Testing — Playwright (TypeScript)

A clean, page‑object–driven end‑to‑end (E2E) test suite using **Playwright + TypeScript** with **Allure** reporting.  
This project mirrors the structure and flows of your previous Cypress project, but implemented with Playwright.

---

## ✨ What’s inside
- **Playwright + TypeScript** test runner
- **Page Object Model (POM)** for maintainable locators & flows
- **Cross‑browser** runs (Chromium, Firefox, WebKit)
- **Allure** reports (screenshots, videos, steps, attachments)
- Simple **npm scripts** for common tasks
- Example **E2E purchase flow** and **auth** tests
- Ready for **CI**

---

## 📁 Project structure

```
.
├─ src/
│  ├─ pages/                 # Page Objects (ProductsPage, CartPage, ...)
│  ├─ utils/                 # Helpers (e.g., users, data)
│  └─ tests/
│     ├─ auth/               # Login/negative login tests
│     ├─ e2e/                # Full purchase flow
│     └─ test-examples/      # Example/spec playground
├─ test-results/             # Playwright artifacts (auto‑generated)
├─ allure-results/           # Raw Allure results (auto‑generated)
├─ allure-report/            # Allure static report (generated)
├─ playwright.config.ts      # Playwright configuration
├─ package.json
└─ README.md
```

---

## ✅ Prerequisites

- **Node.js** ≥ 18 and **npm**
- **Git**
- (Optional, for Allure) **Java 8+** and **Allure commandline**

### Install Allure (optional, for fancy reports)
- **Windows**:  
  1) Install Java (e.g., Eclipse Temurin JDK 17).  
  2) Set `JAVA_HOME` to your JDK path (e.g., `C:\Program Files\Eclipse Adoptium\jdk-17.x.x\`).  
  3) Add `%JAVA_HOME%\bin` to **Path**.  
  4) Install Allure: `winget install QametaSoftware.Allure` (or use Scoop/Chocolatey).

> If you only want Playwright’s built‑in HTML report, you can skip Allure + Java.

---

## 🚀 Setup

```bash
# 1) Install dependencies
npm install

# 2) (once) Install browser engines & deps
npx playwright install
```

---

## 🧪 Run tests

```bash
# All browsers, headless
npm test

# UI mode (great for debugging)
npm run test:ui

# Headed (visible browser)
npm run test:headed

# Specific project (e.g., Chromium only)
npm run test:chromium
```

Playwright also provides a built‑in HTML report:
```bash
# After a run finishes, open the last Playwright HTML report
npx playwright show-report
```

---

## 📊 Allure reports

This suite is wired to produce Allure results (screenshots/videos on failure).

```bash
# Generate & open Allure report
npm run report:allure

# Or run tests then build & open the report
npm run test:report
```

**Where things appear**
- `allure-results/` – raw results produced after the test run
- `allure-report/` – static site generated by Allure
- Playwright artifacts (screenshots/videos) – under `test-results/`

> If `allure` isn’t found or `JAVA_HOME` issues appear, ensure Java is installed and `%JAVA_HOME%\bin` is on your `Path` (Windows), then try again.

---

## 🧱 Conventions

- **Page Objects** live in `src/pages/` and expose high‑level actions:
  ```ts
  // src/pages/ProductsPage.ts
  export class ProductsPage {
    constructor(private page: Page) {}
    async expectVisible() { await expect(this.page.getByTestId('title')).toHaveText('Products'); }
    async addProductByName(name: string) { /* ... */ }
  }
  ```

- **Tests** import page objects and keep scenarios readable:
  ```ts
  // src/tests/e2e/saucedemo.e2e.spec.ts
  test('full purchase flow', async ({ page }) => {
    // arrange → act → assert (uses page objects)
  });
  ```

- **Users / data** live in `src/utils/`.

---

## ⚙️ Key npm scripts

```json
{
  "scripts": {
    "test": "playwright test",
    "test:ui": "playwright test --ui",
    "test:headed": "playwright test --headed",
    "test:chromium": "playwright test --project=chromium",

    "allure:generate": "allure generate ./allure-results --clean -o ./allure-report",
    "allure:open": "allure open ./allure-report",
    "report:allure": "npm run allure:generate && npm run allure:open",
    "test:report": "npm run test && npm run allure:generate && npm run allure:open"
  }
}
```

---

## 🧰 CI quick start (GitHub Actions)

```yaml
name: Playwright
on: [push, pull_request]

jobs:
  e2e:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with: { node-version: 20 }
      - run: npm ci
      - run: npx playwright install --with-deps
      - run: npm test
      - name: Upload Playwright HTML report
        if: always()
        uses: actions/upload-artifact@v4
        with:
          name: playwright-report
          path: playwright-report
```

> To build **Allure** in CI, add Java + Allure CLI install steps, then `npm run allure:generate` and upload `allure-report/` as an artifact or deploy it.

---

## 🛠 Troubleshooting

- **TypeScript can’t find `@playwright/test`** – run `npm install` and ensure your editor uses the workspace TypeScript.
- **Java / Allure not found (Windows)** – verify `JAVA_HOME` and `%JAVA_HOME%\bin` in **Path**; restart your terminal/IDE.
- **File rename casing error on Windows** – VS Code rename works best; Git sometimes flags case‑only renames. If needed:  
  - Rename to a temp name first, commit, then rename to the final name; or  
  - Use: `git config core.ignorecase false`.

---
